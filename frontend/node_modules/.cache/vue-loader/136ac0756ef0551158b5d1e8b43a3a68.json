{"remainingRequest":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/src/views/Home.vue","mtime":1576426310775},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwovLyBpbXBvcnQgSGVsbG9Xb3JsZCBmcm9tICdAL2NvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdob21lJywKICAvLyBjb21wb25lbnRzOiB7CiAgLy8gICBIZWxsb1dvcmxkLAogIC8vIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXJzOiBbXSwKICAgICAgY3VycmVudENhcjoge30sCiAgICB9OwogIH0sCgogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoQ2FycygpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZldGNoQ2FycygpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jYXJzLycpOwogICAgICB0aGlzLmNhcnMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICB9LAoKICAgIGFzeW5jIGNyZWF0ZUNhcigpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jYXJzLycsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50Q2FyKSwKICAgICAgfSk7CgogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDEpIHsKICAgICAgICBhbGVydChKU09OLnN0cmluZ2lmeShhd2FpdCByZXNwb25zZS5qc29uKCksIG51bGwsIDIpKTsKICAgICAgfQogICAgICBhd2FpdCB0aGlzLmZldGNoQ2FycygpOwogICAgfSwKCiAgICBhc3luYyByZW1vdmVDYXIoY2FyKSB7CiAgICAgIGNvbnN0IHsgaWQgfSA9IGNhcjsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jYXJzLyR7aWR9L2AsIHsKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmN1cnJlbnRDYXIpLAogICAgICB9KTsKICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjA0KSB7CiAgICAgICAgYWxlcnQoSlNPTi5zdHJpbmdpZnkoYXdhaXQgcmVzcG9uc2UuanNvbigpLCBudWxsLCAyKSk7CiAgICAgIH0KICAgICAgYXdhaXQgdGhpcy5mZXRjaENhcnMoKTsKICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <table>\n      <thead>\n        <tr>\n          <th>Vendor</th>\n          <th>Model</th>\n          <th>Year</th>\n          <th>Volume</th>\n          <th>Remove</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"car in cars\" v-bind:key=\"car.id\">\n          <td>{{ car.vendor }}</td>\n          <td>{{ car.model }}</td>\n          <td>{{ car.year }}</td>\n          <td>{{ car.volume }}</td>\n          <td><button @click=\"removeCar(car)\">-</button></td>\n        </tr>\n      </tbody>\n    </table>\n\n    <input placeholder=\"vendor\" v-model=\"currentCar.vendor\">\n    <input placeholder=\"model\" v-model=\"currentCar.model\">\n    <input placeholder=\"year\" v-model.number=\"currentCar.year\">\n    <input placeholder=\"volume\" v-model.number=\"currentCar.volume\">\n    <button @click=\"createCar()\">Create</button>\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue';\n\nexport default {\n  name: 'home',\n  // components: {\n  //   HelloWorld,\n  // },\n\n  data() {\n    return {\n      cars: [],\n      currentCar: {},\n    };\n  },\n\n  async created() {\n    this.fetchCars();\n  },\n\n  methods: {\n    async fetchCars() {\n      const response = await fetch('http://127.0.0.1:8000/api/cars/');\n      this.cars = await response.json();\n    },\n\n    async createCar() {\n      const response = await fetch('http://127.0.0.1:8000/api/cars/', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.currentCar),\n      });\n\n      if (response.status !== 201) {\n        alert(JSON.stringify(await response.json(), null, 2));\n      }\n      await this.fetchCars();\n    },\n\n    async removeCar(car) {\n      const { id } = car;\n      const response = await fetch(`http://127.0.0.1:8000/api/cars/${id}/`, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.currentCar),\n      });\n      if (response.status !== 204) {\n        alert(JSON.stringify(await response.json(), null, 2));\n      }\n      await this.fetchCars();\n    },\n  }\n};\n</script>\n\n<style scope>\n.list-item {\n  display: inline-block;\n  margin-right: 10px;\n}\n.list-enter-active, .list-leave-active {\n  transition: all 1s;\n}\n.list-enter, .list-leave-to {\n  opacity: 0;\n  transform: translateY(30px);\n}\n</style>"]}]}