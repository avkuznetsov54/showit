{"remainingRequest":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/src/views/Home.vue?vue&type=style&index=0&scope=true&lang=css&","dependencies":[{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/src/views/Home.vue","mtime":1576426310775},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aleksandr/Desktop/my_python/mac15/DRF_VUE_DOCKER/001/showit/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGlzdC1pdGVtIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Ci5saXN0LWVudGVyLWFjdGl2ZSwgLmxpc3QtbGVhdmUtYWN0aXZlIHsKICB0cmFuc2l0aW9uOiBhbGwgMXM7Cn0KLmxpc3QtZW50ZXIsIC5saXN0LWxlYXZlLXRvIHsKICBvcGFjaXR5OiAwOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzMHB4KTsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <table>\n      <thead>\n        <tr>\n          <th>Vendor</th>\n          <th>Model</th>\n          <th>Year</th>\n          <th>Volume</th>\n          <th>Remove</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"car in cars\" v-bind:key=\"car.id\">\n          <td>{{ car.vendor }}</td>\n          <td>{{ car.model }}</td>\n          <td>{{ car.year }}</td>\n          <td>{{ car.volume }}</td>\n          <td><button @click=\"removeCar(car)\">-</button></td>\n        </tr>\n      </tbody>\n    </table>\n\n    <input placeholder=\"vendor\" v-model=\"currentCar.vendor\">\n    <input placeholder=\"model\" v-model=\"currentCar.model\">\n    <input placeholder=\"year\" v-model.number=\"currentCar.year\">\n    <input placeholder=\"volume\" v-model.number=\"currentCar.volume\">\n    <button @click=\"createCar()\">Create</button>\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue';\n\nexport default {\n  name: 'home',\n  // components: {\n  //   HelloWorld,\n  // },\n\n  data() {\n    return {\n      cars: [],\n      currentCar: {},\n    };\n  },\n\n  async created() {\n    this.fetchCars();\n  },\n\n  methods: {\n    async fetchCars() {\n      const response = await fetch('http://127.0.0.1:8000/api/cars/');\n      this.cars = await response.json();\n    },\n\n    async createCar() {\n      const response = await fetch('http://127.0.0.1:8000/api/cars/', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.currentCar),\n      });\n\n      if (response.status !== 201) {\n        alert(JSON.stringify(await response.json(), null, 2));\n      }\n      await this.fetchCars();\n    },\n\n    async removeCar(car) {\n      const { id } = car;\n      const response = await fetch(`http://127.0.0.1:8000/api/cars/${id}/`, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.currentCar),\n      });\n      if (response.status !== 204) {\n        alert(JSON.stringify(await response.json(), null, 2));\n      }\n      await this.fetchCars();\n    },\n  }\n};\n</script>\n\n<style scope>\n.list-item {\n  display: inline-block;\n  margin-right: 10px;\n}\n.list-enter-active, .list-leave-active {\n  transition: all 1s;\n}\n.list-enter, .list-leave-to {\n  opacity: 0;\n  transform: translateY(30px);\n}\n</style>"]}]}